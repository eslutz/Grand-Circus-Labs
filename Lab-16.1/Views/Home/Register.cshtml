
@{
	ViewData["Title"] = "Register";
}

<script>
	function SubmitToMe() {
		let validinput = true;

		//firstname validation
		let firstname = document.getElementById("fname");
		let fnameblock = document.getElementById("fnameinvalid");
		if (firstname.value.length < 2) {
			fnameblock.innerHTML = "First name must be at least two letters.";
			validinput = false;
			firstname.className = "invalid";
		}
		else {
			fnameblock.innerHTML = "";
			firstname.className = "";
		}

		//lastname validation
		let lastname = document.getElementById("lname");
		let lnameblock = document.getElementById("lnameinvalid");
		if (lastname.value.length < 2) {
			lnameblock.innerHTML = "Last name must be at least two letters.";
			validinput = false;
			lastname.className = "invalid";
		}
		else {
			lnameblock.innerHTML = "";
			lastname.className = "";
		}

		//email validation
		const validemail = /^.{2,30}@@\w{2,10}\.\w{2,3}$/ig;
		let email = document.getElementById("email");
		let emailblock = document.getElementById("emailinvalid");
		if (!validemail.test(email.value)) {
			emailblock.innerHTML = "You must enter an email of at least two characters, then an @@, then at least two characters, then a period, then at least two characters";
			validinput = false;
			email.className = "invalid";
		}
		else {
			emailblock.innerHTML = "";
			email.className = "";
		}

		//password validation
		const validpassword = /^(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[@@$!%*#?&])[A-Za-z\d@@$!%*#?&]{4,20}$/g;
		let password = document.getElementById("password");
		let passwordblock = document.getElementById("passwordinvalid");
		if (!validpassword.test(password.value)) {
			passwordblock.innerHTML = "Password must contain one upper and one lower case letter, a number, and a symbol.";
			validinput = false;
			password.className = "invalid";
		}
		else {
			passwordblock.innerHTML = "";
			password.className = "";
		}

		//password match validation
		let repassword = document.getElementById("passwordmatch");
		let passwordmatchblock = document.getElementById("passwordmatchinvalid");
		if (password.value != repassword.value) {
			passwordmatchblock.innerHTML = "Passwords do not match.";
			validinput = false;
			password.className = "invalid";
			repassword.className = "invalid";
		}
		else {
			passwordmatchblock.innerHTML = "";
			repassword.className = "";
		}

		return validinput;
	}
</script>

<h2>@ViewBag.Message</h2>
<br />
<h3>You better fill out the form if you want coffee!</h3>
<br />
<form action="/Home/Registered" method="post" onsubmit="return SubmitToMe();">
	<fieldset name="registration">
		<table>
			<tr>
				<td align="right"><label for="firstname">First name:</label></td>
				<td><input type="text" name="firstname" placeholder="Your" id="fname" class="" required /></td>
				<td id="fnameinvalid"></td>
			</tr>
			<tr>
				<td align="right"><label for="lastname">Last name:</label></td>
				<td><input type="text" name="lastname" placeholder="Name" id="lname" class="" required /></td>
				<td id="lnameinvalid"></td>
			</tr>
			<tr>
				<td align="right"><label for="gender">Gender:</label></td>
				<td>
					<table>
						<tr>
							<td>
								<label for="yes">Yes:</label>
								<input type="radio" id="yes" name="gender" value="yes" />
							</td>
							<td>
								<label for="no">No:</label>
								<input type="radio" id="no" name="gender" value="no" checked />
							</td>
						</tr>
					</table>
				</td>
			</tr>
			<tr>
				<td align="right"><label for="birthday">Birthday:</label></td>
				<td><input type="date" name="birthday" max="2020-12-31" required /></td>
			</tr>
			<tr>
				<td align="right"><label for="email">Email:</label></td>
				<td><input type="email" name="email" placeholder="youremail@coffee.com" id="email" class="" required /></td>
				<td id="emailinvalid"></td>
			</tr>
			<tr>
				<td align="right"><label for="phonenumber">Phone Number:</label></td>
				<td><input type="tel" name="phonenumber" placeholder="123-456-7890" required /></td>
			</tr>
			<tr>
				<td align="right"><label for="state">State:</label></td>
				<td>
					<select name="state">
						<option value="AL">Alabama</option>
						<option value="AK">Alaska</option>
						<option value="AZ">Arizona</option>
						<option value="AR">Arkansas</option>
						<option value="CA">California</option>
						<option value="CO">Colorado</option>
						<option value="CT">Connecticut</option>
						<option value="DE">Delaware</option>
						<option value="DC">District Of Columbia</option>
						<option value="FL">Florida</option>
						<option value="GA">Georgia</option>
						<option value="HI">Hawaii</option>
						<option value="ID">Idaho</option>
						<option value="IL">Illinois</option>
						<option value="IN">Indiana</option>
						<option value="IA">Iowa</option>
						<option value="KS">Kansas</option>
						<option value="KY">Kentucky</option>
						<option value="LA">Louisiana</option>
						<option value="ME">Maine</option>
						<option value="MD">Maryland</option>
						<option value="MA">Massachusetts</option>
						<option value="MI">Michigan</option>
						<option value="MN">Minnesota</option>
						<option value="MS">Mississippi</option>
						<option value="MO">Missouri</option>
						<option value="MT">Montana</option>
						<option value="NE">Nebraska</option>
						<option value="NV">Nevada</option>
						<option value="NH">New Hampshire</option>
						<option value="NJ">New Jersey</option>
						<option value="NM">New Mexico</option>
						<option value="NY">New York</option>
						<option value="NC">North Carolina</option>
						<option value="ND">North Dakota</option>
						<option value="OH">Ohio</option>
						<option value="OK">Oklahoma</option>
						<option value="OR">Oregon</option>
						<option value="PA">Pennsylvania</option>
						<option value="RI">Rhode Island</option>
						<option value="SC">South Carolina</option>
						<option value="SD">South Dakota</option>
						<option value="TN">Tennessee</option>
						<option value="TX">Texas</option>
						<option value="UT">Utah</option>
						<option value="VT">Vermont</option>
						<option value="VA">Virginia</option>
						<option value="WA">Washington</option>
						<option value="WV">West Virginia</option>
						<option value="WI">Wisconsin</option>
						<option value="WY">Wyoming</option>
					</select>
				</td>
			</tr>
			<tr>
				<td align="right"><label for="password">Password:</label></td>
				<td><input type="password" name="password" placeholder="password" id="password" class="" required /></td>
				<td id="passwordinvalid"></td>
			</tr>
			<tr>
				<td align="right"><label for="repassword">Re-enter Password:</label></td>
				<td><input type="password" name="repassword" placeholder="password" id="passwordmatch" class="" required /></td>
				<td id="passwordmatchinvalid"></td>
			</tr>
		</table>
	</fieldset>
	<br />
	<p><input type="checkbox" name="terms" required /> I have no choice but to accept these <a href="/Home/TermsAndConditions" target="_blank">absurd terms and conditions</a>.</p>
	<input type="submit" value="Submit" /> <input type="reset" value="Reset" />
</form>
<br />